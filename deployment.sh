#!/bin/bash

# Cleans all environment variables starting with a string "KEYSTORM_"
for var in ${!KEYSTORM_*}; do
  unset -v ${var}
done

# Set environment variables
export KEYSTORM_KEYSTORM_VERSION=latest
export KEYSTORM_APACHE_KEYSTORM_VERSION=latest
export KEYSTORM_OPENNEBULA_ENDPOINT=http://localhost:2633/RPC2
export KEYSTORM_EXPIRATION_WINDOW=28800
export KEYSTORM_KEYSTORM_ENDPOINT=http://localhost:5000
export KEYSTORM_OIDC_METADATA_URL=https://aai.egi.eu/oidc/.well-known/openid-configuration
export KEYSTORM_OIDC_CLIENT_ID=
export KEYSTORM_OIDC_INTROSPECTION_ENDPOINT=https://aai.egi.eu/oidc/introspect
export KEYSTORM_VOMS_CONFIGURATION='{"vos":[{"name":"ops","endpoints":[{"name":"lcg-voms2.cern.ch.lsc","dns":["/DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch","/DC=ch/DC=cern/CN=CERN Grid Certification Authority"]},{"name":"voms2.cern.ch.lsc","dns":["/DC=ch/DC=cern/OU=computers/CN=voms2.cern.ch","/DC=ch/DC=cern/CN=CERN Grid Certification Authority"]},{"name":"lcg-voms.cern.ch.lsc","dns":["/DC=ch/DC=cern/OU=computers/CN=lcg-voms.cern.ch","/DC=ch/DC=cern/CN=CERN Trusted Certification Authority"]},{"name":"voms.cern.ch.lsc","dns":["/DC=ch/DC=cern/OU=computers/CN=voms.cern.ch","/DC=ch/DC=cern/CN=CERN Trusted Certification Authority"]}]},{"name":"biomed","endpoints":[{"name":"cclcgvomsli01.in2p3.fr.lsc","dns":["/O=GRID-FR/C=FR/O=CNRS/OU=CC-IN2P3/CN=cclcgvomsli01.in2p3.fr","/C=FR/O=CNRS/CN=GRID2-FR"]}]},{"name":"enmr.eu","endpoints":[{"name":"voms-02.pd.infn.it.lsc","dns":["/C=IT/O=INFN/OU=Host/L=Padova/CN=voms-02.pd.infn.it","/C=IT/O=INFN/CN=INFN Certification Authority"]},{"name":"voms2.cnaf.infn.it.lsc","dns":["/C=IT/O=INFN/OU=Host/L=CNAF/CN=voms2.cnaf.infn.it","/C=IT/O=INFN/CN=INFN Certification Authority"]}]},{"name":"highthroughputseq.egi.eu","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"vo.nextgeoss.eu","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"drihm.eu","endpoints":[{"name":"vomsmania.cnaf.infn.it.lsc","dns":["/C=IT/O=INFN/OU=Host/L=CNAF/CN=vomsmania.cnaf.infn.it","/C=IT/O=INFN/CN=INFN Certification Authority"]},{"name":"vomsIGI-NA.unina.it.lsc","dns":["/C=IT/O=INFN/OU=Host/L=Federico II/CN=vomsIGI-NA.unina.it","/C=IT/O=INFN/CN=INFN Certification Authority"]}]},{"name":"dteam","endpoints":[{"name":"voms.hellasgrid.gr.lsc","dns":["/C=GR/O=HellasGrid/OU=hellasgrid.gr/CN=voms.hellasgrid.gr","/C=GR/O=HellasGrid/OU=Certification Authorities/CN=HellasGrid CA 2016"]},{"name":"voms2.hellasgrid.gr.lsc","dns":["/C=GR/O=HellasGrid/OU=hellasgrid.gr/CN=voms2.hellasgrid.gr","/C=GR/O=HellasGrid/OU=Certification Authorities/CN=HellasGrid CA 2016"]}]},{"name":"chipster.csc.fi","endpoints":[{"name":"voms.fgi.csc.fi.lsc","dns":["/O=Grid/O=NorduGrid/CN=host/voms.fgi.csc.fi","/O=Grid/O=NorduGrid/CN=NorduGrid Certification Authority 2015"]}]},{"name":"gputest.metacentrum.cz","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"demo.fedcloud.egi.eu","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"vo.elixir-europe.org","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"peachnote.com","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"fedcloud.egi.eu","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]},{"name":"training.egi.eu","endpoints":[{"name":"voms1.grid.cesnet.cz.lsc","dns":["/DC=org/DC=terena/DC=tcs/C=CZ/ST=Hlavni mesto Praha/L=Praha 6/O=CESNET/CN=voms1.grid.cesnet.cz","/C=NL/ST=Noord-Holland/L=Amsterdam/O=TERENA/CN=TERENA eScience SSL CA 3"]},{"name":"voms2.grid.cesnet.cz.lsc","dns":["/DC=cz/DC=cesnet-ca/O=CESNET/CN=voms2.grid.cesnet.cz","/DC=cz/DC=cesnet-ca/O=CESNET CA/CN=CESNET CA 3"]}]}]}'
# export KEYSTORM_DEBUG=debug
